commit 02155a23eb27715d5d1d73c8ed1af417d1579bf5
Author: David Zeuthen <davidz@redhat.com>
Date:   Wed Feb 23 09:16:00 2011 -0500

    Bug 30438 â€“ PolicyKit fails to build on AIX
    
    https://bugs.freedesktop.org/show_bug.cgi?id=30438
    
    Signed-off-by: David Zeuthen <davidz@redhat.com>

diff --git a/src/polkitd/gposixsignal.c b/src/polkitd/gposixsignal.c
index 8e9bb65..0dbd8e8 100644
--- a/src/polkitd/gposixsignal.c
+++ b/src/polkitd/gposixsignal.c
@@ -1,5 +1,5 @@
 /* -*- mode: C; c-file-style: "gnu"; indent-tabs-mode: nil; -*- */
-/* 
+/*
  * Copyright (C) 2010 Red Hat, Inc.
  *
  * This library is free software; you can redistribute it and/or
@@ -22,12 +22,13 @@
 
 #include "config.h"
 
+#include "gposixsignal.h"
+
+#if defined(__linux__)
 #include <unistd.h>
 #include <sys/signalfd.h>
 #include <signal.h>
 
-#include "gposixsignal.h"
-
 typedef struct
 {
   GSource source;
@@ -126,3 +127,22 @@ _g_posix_signal_watch_add (gint                   signum,
 
   return id;
 }
+#else  /* __linux__ */
+
+GSource *
+_g_posix_signal_source_new (gint signum)
+{
+  return NULL;
+}
+
+guint
+_g_posix_signal_watch_add (gint                   signum,
+                           gint                   priority,
+                           _GPosixSignalWatchFunc function,
+                           gpointer               user_data,
+                           GDestroyNotify         notify)
+{
+  return 0;
+}
+
+#endif /* __linux__ */
diff --git a/src/polkitd/main.c b/src/polkitd/main.c
index 4b1967a..33ea511 100644
--- a/src/polkitd/main.c
+++ b/src/polkitd/main.c
@@ -90,6 +90,7 @@ on_sigint (gpointer user_data)
   g_main_loop_quit (loop);
   return FALSE;
 }
+
 int
 main (int    argc,
       char **argv)
